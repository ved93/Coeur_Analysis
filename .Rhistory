temp$merchant_name <- gsub("mcdonald s", "mc donalds", temp$merchant_name)
temp$merchant_name <- gsub("snapdeal_payu", "snapdeal", temp$merchant_name)
temp$merchant_name <- gsub("airdia limited", "airindia", temp$merchant_name)
temp$merchant_name <- gsub("bharti airtel ltd-andh", "airtel", temp$merchant_name)
temp$merchant_name <- gsub("tata sky ltd", "tata sky", temp$merchant_name)
temp$merchant_name <- gsub("bharti airtel ltd-karn", "airtel", temp$merchant_name)
temp$merchant_name <- gsub("amazon services-dle", "amazon", temp$merchant_name)
temp$merchant_name <- gsub("citrus pay shopclues", "citrus pay", temp$merchant_name)
temp$merchant_name <- gsub("citrus pay rechargeitn", "citrus pay", temp$merchant_name)
temp$merchant_name <- gsub("airdia ltd", "airindia", temp$merchant_name)
temp$merchant_name <- gsub("spencers retail limite", "spencers", temp$merchant_name)
temp$merchant_name <- gsub("spencers retail ltd", "spencers", temp$merchant_name)
temp$merchant_name <- gsub("bharti airtel ltd-mumb", "airtel", temp$merchant_name)
temp$merchant_name <- gsub("bharti airtel ltd-tami", "airtel", temp$merchant_name)
temp$merchant_name <- gsub("amazonternet servic", "amazon", temp$merchant_name)
temp$merchant_name <- gsub("payu-payumoney", "payu", temp$merchant_name)
temp$merchant_name <- gsub("payu-payu", "payu", temp$merchant_name)
temp$merchant_name <- gsub("vodafone-", "vodafone", temp$merchant_name)
temp$merchant_name <- gsub("cleartrip private ltd", "cleartrip", temp$merchant_name)
temp$merchant_name <- gsub("cleartrip travel servi", "cleartrip", temp$merchant_name)
temp$merchant_name <- gsub("pvr ltd", "pvr", temp$merchant_name)
temp$merchant_name <- gsub("pvr limited", "pvr", temp$merchant_name)
temp$merchant_name <- gsub("-", "", temp$merchant_name)
temp$merchant_name <- gsub("ltd", "", temp$merchant_name)
temp$merchant_name <- gsub("limited", "", temp$merchant_name)
temp$merchant_name <- gsub("aunt freecharge", "freecharge", temp$merchant_name)
temp$merchant_name <- gsub("tataddo", "tatad", temp$merchant_name)
temp$merchant_name <- gsub("d mart", "dmart", temp$merchant_name)
temp$merchant_name <- gsub("dmart avenue supermart", "dmart", temp$merchant_name)
#temp$merchant_name <- gsub("bharati telemediar", "bharati telemedia", temp$merchant_name)
temp$merchant_name <- gsub("airteltami", "airtel", temp$merchant_name)
temp$merchant_name <- gsub("airtelmumb", "airtel", temp$merchant_name)
temp$merchant_name <- gsub("airtelkarn", "airtel", temp$merchant_name)
temp$merchant_name <- gsub("airtelchen", "airtel", temp$merchant_name)
temp$merchant_name <- gsub("heritage foodsdia l", "heritage foods", temp$merchant_name)
temp$merchant_name <- gsub("haldiram products pvt", "haldiram", temp$merchant_name)
temp$merchant_name <- gsub("hypercity retaildia", "hyper city", temp$merchant_name)
temp$merchant_name <- gsub("icici lombard gic", "icici", temp$merchant_name)
temp$merchant_name <- gsub("icici prudential life", "icici", temp$merchant_name)
temp$merchant_name <- gsub("inox leisure", "inox", temp$merchant_name)
temp$merchant_name <- gsub("paytm  spicejet", "paytm", temp$merchant_name)
temp$merchant_name <- gsub("payu money", "payu", temp$merchant_name)
temp$merchant_name <- gsub("payuoxigenwallet.", "payu", temp$merchant_name)
temp$merchant_name <- gsub("yatra one (p) .", "yatra", temp$merchant_name)
temp$merchant_name <- gsub("airtel  b&", "airtel", temp$merchant_name)
temp$merchant_name <- gsub("airtelandh", "airtel", temp$merchant_name)
temp$merchant_name <- gsub("inox", "inox", temp$merchant_name)
temp$merchant_name <- gsub("snapdeal_bd", "snapdeal", temp$merchant_name)
temp$merchant_name <- gsub("snapdeal ", "snapdeal", temp$merchant_name)
temp$merchant_name <- gsub("freecharge ", "freecharge", temp$merchant_name)
temp$merchant_name <- gsub("bookmyshow ", "bookmyshow", temp$merchant_name)
temp$merchant_name <- gsub("heritage foods ", "heritage foods", temp$merchant_name)
temp$merchant_name <- gsub("inox ", "inox", temp$merchant_name)
temp$merchant_name <- gsub("yatra one (p) .", "yatra", temp$merchant_name)
temp$merchant_name <- gsub("google *google storage", "google", temp$merchant_name)
temp$merchant_name <- gsub("bharat sanchar nigam l", "bsnl", temp$merchant_name)
temp$merchant_name <- gsub("doos", "dominos", temp$merchant_name)
temp$merchant_name <- gsub("doos pizza", "dominos", temp$merchant_name)
temp$merchant_name <- gsub("more megastore", "more", temp$merchant_name)
temp$merchant_name <- gsub("more.supermarket", "more", temp$merchant_name)
temp$merchant_name <- gsub("m t n l mumbai", "mtnl", temp$merchant_name)
temp$merchant_name <- gsub("tatasky_tpsl", "tata sky", temp$merchant_name)
temp$merchant_name <- gsub("up powerrporation l", "uppcl", temp$merchant_name)
temp$merchant_name <-gsub("idea cellular", "idea", temp$merchant_name )
temp$merchant_name <-gsub("idea payment", "idea", temp$merchant_name )
temp$merchant_name <-gsub("more megastore", "more", temp$merchant_name )
temp$merchant_name <-gsub("more.supermarket", "more", temp$merchant_name )
temp$merchant_name <-gsub("tatasky_tpsl", "tata sky", temp$merchant_name )
temp$merchant_name <-gsub("up powerrporation l", "uppcl", temp$merchant_name )
temp$merchant_name <-gsub("[(]", "", temp$merchant_name )
temp$merchant_name <-gsub("[)]", "", temp$merchant_name )
temp$merchant_name <-gsub("yatra one p .", "yatra", temp$merchant_name )
temp$merchant_name <-gsub("bharat sanchar nigam l", "bsnl", temp$merchant_name )
temp$merchant_name <-gsub("bsnl ", "bsnl", temp$merchant_name )
temp$merchant_name <-gsub("m t n l mumbai", "mtnl", temp$merchant_name )
temp$merchant_name <-gsub("doos", "dominos", temp$merchant_name )
temp$merchant_name <-gsub("dominos pizza", "dominos", temp$merchant_name )
temp$merchant_name <-gsub("google *google storage", "google", temp$merchant_name )
t1<-as.data.frame(table(temp$merchant_name))
temp$Modified_merchant_name <-temp$merchant_name
temp$merchant_name <- merchant_n
Mer_tab<-as.data.frame(sort(table(temp$Modified_merchant_name) , decreasing = T))
Mer_tab$Vol_percent<- (Mer_tab$Freq/nrow(temp))*100
Mer_tab$Vol_cum_perc<-cumsum((Mer_tab$Freq/nrow(temp))*100)
View(Mer_tab)
df11<-Mer_tab[Mer_tab$Vol_cum_perc < 50.15,]
temp$Modified_merchant_name <- ifelse((temp$Modified_merchant_name %in% Mer_tab$Var1) , temp$Modified_merchant_name , "other" )
View(temp)
write.csv(temp , "Cred_txn_updated_Merchant_data.csv" , row.names = F)
getwd()
clean_use_incometotlocation_data <- read.csv("E:/Projects/ValueFirst/vfdata_age/clean_use_incometotlocation_data.csv")
View(clean_use_incometotlocation_data)
Cred_txn_updated_Merchant_data <- read.csv("E:/Projects/Recommendation Engine Bank/Processed_Data/Credit/Cred_txn_updated_Merchant_data.csv", stringsAsFactors=FALSE)
View(Credit_TXN_data)
View(Cred_txn_updated_Merchant_data)
View(Mer_tab)
View(Mer_tab)
df11<-Mer_tab[Mer_tab$Vol_cum_perc < 50.15,]
# replace all other categories as others
temp$Modified_merchant_name <- ifelse((temp$Modified_merchant_name %in% df11$Var1) , temp$Modified_merchant_name , "other" )
View(temp)
View(df11)
write.csv(temp , "Cred_txn_updated_Merchant_data.csv" , row.names = F)
library(xlsx)
data<-read.xlsx("Vipin.xlsx" , 1)
View(data)
data$Cred_sco_flag<- ifelse(data$CreditScore > 700, 1,0)
View(data)
summary(data)
data <- data[-c(4, 6, 10), ]
View(data)
data1<- data[, c(2,3,4,5,6,7,8,9,11,12,15,18)]
View(data1)
data1[data1$Balance == "null", 10] <- mean(data1$Balance)
data1<- data[, c(2,3,4,5,6,7,8,9,11,12,15,18)]
data1[data1$Balance == "null", 10] <- mean(data1$Balance[data1$Balance != "null"])
mean(data1$Balance[data1$Balance != "null"])
data1<- data[, c(2,3,4,5,6,7,8,9,11,12,15,18)]
mean(data1$Balance[data1$Balance != "null"])
mean(data1$Balance[data1$Balance != "Null"])
data1<- data[, c(2,3,4,5,6,7,8,9,11,12,15,18)]
mean(data1$Balance[data1$Balance != "Null"])
data1<- data[, c(2,3,4,5,6,7,8,9,11,12,15,18)]
data1$Balance[data1$Balance != "Null"]
data1$Balance<- as.numeric(data1$Balance)
data1$Balance[data1$Balance != "Null"]
mean(data1$Balance[data1$Balance != "Null"])
data1[data1$Balance == "Null", 10] <- mean(data1$Balance[data1$Balance != "Null"])
data1[data1$CpCode == "NULL", 5] <-  "other"
library(dummy)
install.packages("dummy")
library(dummy)
data1 <- dummy.data.frame(data1, names=c("CompName"), sep="_")
library(dummy)
data1 <- dummy.data.frame(data1, names=c("CompName"), sep="_")
install.packages("dummies")
library(dummies)
data1 <- dummy.data.frame(data1, names=c("CompName"), sep="_")
View(data1)
data1 <- dummy.data.frame(data1, names=c("CompName", "Bankname", "Maritalstatus"), sep="_")
View(data1)
data1 <- dummy.data.frame(data1, names=c("CompName", "Bankname", "Maritalstatus", "CpCode", "ResidenceType", "ProductSegment", "Description", ), sep="_")
data1 <- dummy.data.frame(data1, names=c("CompName", "Bankname", "Maritalstatus", "CpCode", "ResidenceType", "ProductSegment", "Description"), sep="_")
View(data1)
model <- glm(Cred_sco_flag ~ . , data= data1, family = "binomial")
summary(model)
getwd()
library(xlsx)
setwd("E:\Projects\Coeur")
setwd("E:/Projects/Coeur")
Customer_data<-read.xlsx("E:/Projects/Coeur/CoeurCustomersforDataAnalysis.xlsx" , sheet =1)
Customer_data<-read.xlsx("E:/Projects/Coeur/CoeurCustomersforDataAnalysis.xlsx" , sheetIndex = 1)
Customer_data<-read.xlsx("E:/Projects/Coeur/RawData/CoeurCustomersforDataAnalysis.xlsx" , sheetIndex = 1)
View(Customer_data)
Population_Rank<-read.xlsx("E:/Projects/Coeur/RawData/CoeurCustomersforDataAnalysis.xlsx" , sheetIndex = 1)
Population_Rank<-read.xlsx("E:/Projects/Coeur/RawData/CoeurCustomersforDataAnalysis.xlsx" , sheetIndex = 1)
View(Population_Rank)
Population_Rank <- Population_Rank[ ,c(1,2,3,4,5,6)]
View(Population_Rank)
Domestic_Customers_Sponsored <-read.xlsx("E:/Projects/Coeur/RawData/CoeurCustomersforDataAnalysis.xlsx" , sheetIndex = 2)
str(Domestic_Customers_Sponsored)
View(Domestic_Customers_Sponsored)
Retail_Shops <-read.xlsx("E:/Projects/Coeur/RawData/CoeurCustomersforDataAnalysis.xlsx" , sheetIndex = 3)
str(Domestic_Customers_Sponsored)
Customer_data<-Domestic_Customers_Sponsored[is.na(Domestic_Customers_Sponsored$Ambassador) & is.na(Domestic_Customers_Sponsored$Professional) , ]
View(Customer_data)
View(Domestic_Customers_Sponsored)
View(Population_Rank)
View(Retail_Shops)
View(Domestic_Customers_Sponsored)
Domestic_Customers_Sponsored$Updated_zip_code <- Domestic_Customers_Sponsored$Zip.Code
View(Domestic_Customers_Sponsored)
Domestic_Customers_Sponsored$Updated_zip_code<- gsub("[']" , "" , Domestic_Customers_Sponsored$Updated_zip_code)
Domestic_Customers_Sponsored$Updated_zip_code<-gsub(".*-","",Domestic_Customers_Sponsored$Updated_zip_code)
Domestic_Customers_Sponsored$Updated_zip_code <- Domestic_Customers_Sponsored$Zip.Code
Domestic_Customers_Sponsored$Updated_zip_code<- gsub("[']" , "" , Domestic_Customers_Sponsored$Updated_zip_code)
Domestic_Customers_Sponsored$Updated_zip_code<-gsub(".*-","0",Domestic_Customers_Sponsored$Updated_zip_code)
View(Domestic_Customers_Sponsored)
View(Domestic_Customers_Sponsored)
length(unique(Domestic_Customers_Sponsored$First.Name))
length(unique(Domestic_Customers_Sponsored$Address1))
View(Population_Rank)
View(Retail_Shops)
length(unique(Domestic_Customers_Sponsored$Zip.Code))
library(sqldf)
Count_by_zip <- sqldf("select Updated_zip_code, count(*) as count  from Domestic_Customers_Sponsored group by Updated_zip_code")
View(Count_by_zip)
sum(Count_by_zip$count)
length(unique(Domestic_Customers_Sponsored$Zip.Code))
length(unique(Domestic_Customers_Sponsored$Address1))
install.packages("RgoogleMaps")
library(RgoogleMaps)
al1 <- GetMap(center=c(37.0902,95.7129), zoom=11, destfile = "al2.jpeg",
format="jpg",maptype="roadmap")
all
al1 <- GetMap(center=c(37.0902,-95.7129), zoom=11, destfile = "al2.jpeg",
format="jpg",maptype="roadmap")
all
alabama <- subset(all_states, region %in% c("alabama"))
p1 <- ggplot()
library(ggplot2)
p1 <- ggplot2()
p1 <- ggplot()
p1 <- p1 + geom_polygon(data=Count_by_zip,
aes(x=long, y=lat, group=group), colour="white", fill="grey10")
p1 <- p1 + geom_point(data=quote, aes(x=IntPtLon, y=IntPtLat, size=TotPop,
color=TotPop),colour="coral1") + scale_size(name="Total Pop")
p1
al1MAP = ggmap(al1)
library(ggmap)
al1MAP = ggmap(al1)
al1MAP
al1 <- GetMap(center=c(42.1497,-74.9384), zoom=11, destfile = "al2.jpeg",
format="jpg",maptype="roadmap")
al1MAP = ggmap(al1)
al1 <- GetMap(center=c(42.1497,-74.9384), zoom=11,  maptype="roadmap")
al1MAP = ggmap(al1)
al1MAP
al1MAP = get_map(al1)
al1 <- get_map(center=c(42.1497,-74.9384), zoom=11,  maptype="roadmap")
al1 = get_map(location = c(lon = 42.1497, lat = -74.9384), zoom = 11, maptype = 'roadmap')
al1MAP = ggmap(al1)
al1MAP
library(ggmap)
library(mapproj)
map <- get_map(location = 'USA', zoom = 4)
ggmap(map)
map <- get_map(location = 'USA', zoom = 1)
ggmap(map)
length(unique(Domestic_Customers_Sponsored$Zip.Code))
length(unique(Domestic_Customers_Sponsored$Updated_zip_code))
map <- get_map(location = 'USA', zoom = 4)
require(gmaps)
install.packages("gmaps")
require(ggmaps)
require(ggmap)
data(USArrests)
attach(USArrests)
grid.newpage()
library(maptools)
install.packages("maptools")
library(maptools)
library(RColorBrewer)
library(classInt)
install.packages("classInt")
library(classInt)
colors <- brewer.pal(9, "YlOrRd") #set breaks for the 9 colors
brks<-classIntervals(Count_by_zip$count, n=9, style="quantile")
brks<- brks$brks #plot the map
plot(zip, col=colors[findInterval(Count_by_zip$count, brks,all.inside=TRUE)], axes=F)
plot(Count_by_zip, col=colors[findInterval(Count_by_zip$count, brks,all.inside=TRUE)], axes=F)
title(paste ("SF Bay Area Median Household Income"))
legend(x=6298809, y=2350000, legend=leglabs(round(brks)), fill=colors, bty="n",x.intersp = .5, y.intersp = .5)
zip=readShapePoly("bayarea_zipcodes.shp")
install.packages("zipcode")
library(zipcode)
data(zipcode)
nrow(zipcode)
head(zipcode)
library(ggplot2)
View(Count_by_zip)
zipcode$region = substr(zipcode$zip, 1, 1)
View(zipcode)
g = ggplot(data=zipcode) + geom_point(aes(x=longitude, y=latitude, colour=region))
g = g + theme_bw() + scale_x_continuous(limits = c(-125,-66), breaks = NA)
g = g + scale_y_continuous(limits = c(25,50), breaks = NA)
# don't need axis labels
g = g + labs(x=NULL, y=NULL)
g
g = ggplot(data=zipcode) + geom_point(aes(x=longitude, y=latitude, colour=region))
g = g + theme_bw() + scale_x_continuous(limits = c(-125,-66), breaks = NA)
g = g + scale_y_continuous(limits = c(25,50), breaks = NA)
# don't need axis labels
g = g + labs(x=NULL, y=NULL)
data(zipcode)
Count_by_zip$Updated_zip_code<- clean.zipcodes(Count_by_zip$Updated_zip_code)
View(Count_by_zip)
View(Count_by_zip)
fm<- merge(Count_by_zip, zipcode, by.x='Updated_zip_code', by.y='zip')
View(fm)
map<-get_map(location='united states', zoom=4, maptype='roadmap')
View(Count_by_zip)
ggmap(map)+geom_point(aes(x=longitude, y=latitude, size=(count)), data=fm, alpha=.5)
View(fm)
FM<- fm[1:20,]
View(FM)
map<-get_map(location='united states', zoom=4, maptype='roadmap')
ggmap(map)+geom_point(aes(x=longitude, y=latitude, size=(count)), data=FM, alpha=.5)
map<-get_map(location='united states', zoom=4, maptype='roadmap')
map
ggmap(map)
install.packages("ggmap")
install.packages("ggplot2")
install.packages("ggplot2")
install.packages("ggplot2")
library(ggplot2)
library(ggmap)
map<-get_map(location='united states', zoom=4, maptype='roadmap')
ggmap(map)
ggmap(map)+geom_point(aes(x=longitude, y=latitude, size=(count)), data=FM, alpha=.5)
View(FM)
ggmap(map)+geom_point(aes(x=longitude, y=latitude, size=(count)), data=fm, alpha=.5)
ggmap(map)+geom_point(aes(x=longitude, y=latitude, size=(count)), data=fm, alpha=.6)
ggmap(map)
View(fm)
ggmap(map)+geom_point(aes(x=longitude, y=latitude, size=(count)), data=fm, alpha=.6)
ggmap(map)+geom_point(aes(x=longitude, y=latitude, size=(count)), data=fm, alpha=.3)
View(fm)
zip<- readShapePoly("bayarea_zipcodes.shp")
library(maptools)
library(RColorBrewer)
library(classInt)
zip<- readShapePoly("bayarea_zipcodes.shp")
View(zipcode)
View(fm)
View(fm)
g = ggplot(data=fm) + geom_point(aes(x=longitude, y=latitude, colour=count))
g = g + theme_bw() + scale_x_continuous(limits = c(-125,-66), breaks = NA)
g = g + scale_y_continuous(limits = c(25,50), breaks = NA)
g = g + labs(x=NULL, y=NULL)
g
g = g + theme_bw() + scale_x_continuous(limits = c(-125,-66))
g = g + theme_bw() + scale_x_continuous(limits = c(-125,-66), breaks = NA)
g = ggplot(data=fm) + geom_point(aes(x=longitude, y=latitude, colour=count))
g
g = g + theme_bw() + scale_x_continuous(limits = c(-125,-66), breaks = NA)
g
g = g + theme_bw() + scale_x_continuous(limits = c(-125,-66), breaks = 8)
View(fm)
g = g + theme_bw() + scale_x_continuous(limits = c(-125,-66), breaks = NULL)
g = ggplot(data=fm) + geom_point(aes(x=longitude, y=latitude, colour=count))
g
g = g + theme_bw() + scale_x_continuous(limits = c(-125,-66), breaks = NULL)
g = g + scale_y_continuous(limits = c(25,50), breaks = NULL)
g
g = g + labs(x=NULL, y=NULL)
g
g = ggplot(data=fm) + geom_point(aes(x=longitude, y=latitude, size=count))
g
g = ggplot(data=fm) + geom_point(aes(x=longitude, y=latitude, size=factor(count) ))
g
ggmap(map)+geom_point(aes(x=longitude, y=latitude, size= factor(count)), data=fm, alpha=.3)
ggmap(map)+geom_point(aes(x=longitude, y=latitude, colour= factor(count)), data=fm, alpha=.3)
ggmap(map)+geom_point(aes(x=longitude, y=latitude, shape= factor(count)), data=fm, alpha=.3)
fm$Range<-ifelse(fm$count > 0 & fm$count<= 3, "0-3",
ifelse(fm$count > 3 & fm$count<= 6, "3-6",
ifelse(fm$count > 6 & fm$count<=9, "6-9", "9-13")))
ggmap(map)+geom_point(aes(x=longitude, y=latitude, shape= factor(Range)), data=fm, alpha=.3)
ggmap(map)+geom_point(aes(x=longitude, y=latitude, colour= factor(Range)), data=fm, alpha=.3)
ggmap(map)+geom_point(aes(x=longitude, y=latitude, colour= factor(Range)), data=fm, alpha=.3)++ scale_colour_gradient(low = "blue")
ggmap(map)+geom_point(aes(x=longitude, y=latitude, colour= factor(Range)), data=fm, alpha=.3)+ scale_colour_gradient(low = "blue")
ggmap(map)+geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.3)+ scale_colour_gradient(low = "blue")
ggmap(map)+geom_point(aes(x=longitude, y=latitude, colour= factor(Range)), data=fm, alpha=.3+ scale_colour_gradient(low = "blue"))
ggmap(map)+geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.3)
ggmap(map)+geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.3) + scale_colour_gradient(low = "blue")
ggmap(map)+geom_point(aes(x=longitude, y=latitude, colour= (count)), data=fm, alpha=.3) + scale_colour_gradient(low = "blue")
ggmap(map)+geom_point(aes(x=longitude, y=latitude, colour= factor(count)), data=fm, alpha=.3) + scale_colour_gradient(low = "blue")
ggmap(map)+geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.3) + scale_colour_gradient(low = "blue")
ggmap(map)+geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.3) +  scale_shape(solid = FALSE)
ggmap(map)+aes(shape = Range) + geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.3)
+geom_point(colour="grey90", size = 1.5)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.3) +aes(shape = Range)
+geom_point(colour="grey90", size = 1.5)
ggmap(map)+geom_point(aes(shape = Range) , data = fm) + geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.3)
+geom_point(colour="grey90", size = 1.5)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.3)
+geom_point(colour="grey90", size = 1.5)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.3)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.3)+aes(shape = Range)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.3)  +geom_point(colour="grey90", size = 1.5)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.3)+ geom_point(aes(shape = factor(Range)))
ggmap(map) + geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.3)+ geom_point(aes(shape = factor(Range)), data = fm)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.3)+ geom_point(aes(x=longitude, y=latitude,shape = factor(Range)), data = fm)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.3) + aes( shape = factor(Range))
ggmap(map) + geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.3) + aes( shape = factor(fm$Range))
View(fm)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.3)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.2)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.1)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, colour= (Range)), data=fm, alpha=.8)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)), data=fm, alpha=.8)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range) , colour = "Red"), data=fm, alpha=.8)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.8)
map<-get_map(location='united states', zoom=4, maptype='terrain')
map
ggmap(map)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.8)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4)
map<-get_map(location='united states', zoom=4, maptype='terrain-background')
ggmap(map)
colors <- brewer.pal(9, "YlOrRd") #set breaks for the 9 colors
brks<-classIntervals(fm$count, n=9, style="quantile")
brks<- brks$brks #plot the map
plot(zip, col=colors[findInterval(fm$count, brks,all.inside=TRUE)], axes=F)
plot(fm, col=colors[findInterval(fm$count, brks,all.inside=TRUE)], axes=F)
colors <- brewer.pal(9, "YlOrRd") #set breaks for the 9 colors
brks<-classIntervals(fm$count, n=9, style="quantile")
brks<- brks$brks #plot the map
plot(fm, col=colors[findInterval(fm$count, brks,all.inside=TRUE)], axes=F)
colors <- brewer.pal(9, "YlOrRd") #set breaks for the 9 colors
brks<-classIntervals(Count_by_zip$count, n=9, style="quantile")
brks<- brks$brks #plot the map
plot(Count_by_zip, col=colors[findInterval(Count_by_zip$count, brks,all.inside=TRUE)], axes=F)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4)
map<-get_map(location='united states', zoom=4, maptype='watercolor')
#map
ggmap(map)
map<-get_map(location='united states', zoom=4, maptype='toner')
#map
ggmap(map)
map<-get_map(location='united states', zoom=4, maptype='hybrid')
#map
ggmap(map)
map<-get_map(location='united states', zoom=4, maptype='roadmap')
#map
ggmap(map)
View(fm)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4, color = "dark red")
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4, color = "dark red")  +scale_colour_manual(values=rainbow_hcl(7))
scale_colour_manual(values=c("8" = "red",
"4" = "blue","6" = "green“, )
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4, color = "dark red")  +scale_colour_manual(values=rainbow_hcl(7))
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4, color = "dark red")  +scale_colour_manual(values=rainbow_hcl(7))
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4, color = "dark red")  +
scale_colour_manual(values=c("8" = "red",
"4" = "blue","6" = "green“, )
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4, color = "dark red")  +
scale_colour_manual(values=c("8" = "red",
"4" = "blue","6" = "green“, )
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4, color = "dark red")  +
scale_colour_manual(values=c("8" = "red",
"4" = "blue","6" = "green“ )
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4, color = "dark red")  +
scale_colour_manual(values=c("8" = "red",
"4" = "blue","6" = "green“ ))
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4, color = "dark red")  +
scale_colour_manual(values=rainbow_hcl(7))
scale_colour_manual(values=c("8" = "red",
"4" = "blue","6" = "green“)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4, color = "dark red")  +
scale_colour_manual(values= c("0-3" = "red", "3-6" = "blue", "6-9" = "green“  , "9-13" = "grey" ))
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4, color = "dark red")  +
scale_colour_manual(values= c("0-3" = "red", "3-6" = "blue", "6-9" = "green“  , "9-13" = "grey" ))
map<-get_map(location='united states', zoom=4, maptype='roadmap', source = "osm")
#map
ggmap(map)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4 ) +scale_colour_manual(values=rainbow_hcl(7))
library(rgdal)
install.packages("rgdal")
shpData <- readOGR(dsn="C:\\Documents and Settings\\Watershed", layer="WS")
shpData <- readOGR(dsn="E:\\Projects\\Coeur\\StatPlanet\\Shapefile_map_(ESRI)\\map\\map.shp", layer="WS")
ggmap(map)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4, color= "bw" ) +scale_colour_manual(values=rainbow_hcl(7))
map<-get_map(location='united states', zoom=4, maptype='roadmap', source = "osm", , color= "bw")
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4 ) +scale_colour_manual(values=rainbow_hcl(7))
map<-get_map(location='united states', zoom=10, maptype='roadmap', source = "osm", , color= "bw")
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4 ) +scale_colour_manual(values=rainbow_hcl(7))
map<-get_map(location='united states', zoom=6, maptype='roadmap', source = "osm", , color= "bw")
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4 ) +scale_colour_manual(values=rainbow_hcl(7))
map<-get_map(location='united states', zoom=4, maptype='roadmap', source = "osm", , color= "bw")
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4 ) +scale_colour_manual(values=rainbow_hcl(7))
map<-get_map(location='united states', zoom=4, maptype='roadmap', source = "osm")
map<-get_map(location='united states', zoom=4, maptype='roadmap')
ggmap(map)
map<-get_map(location='united states', zoom=5, maptype='roadmap')
ggmap(map)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape= (Range)  ), data=fm, alpha=.4 ) +scale_colour_manual(values=rainbow_hcl(7))
ggmap(map) + geom_point(aes(x=longitude, y=latitude, colour = (Range)  ), data=fm, alpha=.4 )
ggmap(map) + geom_point(aes(x=longitude, y=latitude, size = (Range)  ), data=fm, alpha=.4 )
ggmap(map) + geom_point(aes(x=longitude, y=latitude, shape = (Range)  ), data=fm, alpha=.4 )
ggmap(map) + geom_point(aes(x=longitude, y=latitude, colour = (Range)  ), data=fm, alpha=.4 )
summary(fm$Range)
table(fm$Range)
View(Customer_data)
View(Count_by_zip)
View(fm)
View(Count_by_zip)
sum(Count_by_zip$count)
View(Customer_data)
View(Domestic_Customers_Sponsored)
View(fm)
2541+110+14
View(Count_by_zip)
table(Domestic_Customers_Sponsored$Ambassador)
table(Domestic_Customers_Sponsored$Professional)
Count_by_zip <- sqldf("select Updated_zip_code, count(*) as count  from Customer_data group by Updated_zip_code")
library(sqldf)
Customer_data<-Domestic_Customers_Sponsored[is.na(Domestic_Customers_Sponsored$Ambassador) & is.na(Domestic_Customers_Sponsored$Professional) , ]
Count_by_zip <- sqldf("select Updated_zip_code, count(*) as count  from Customer_data group by Updated_zip_code")
View(Count_by_zip)
summary(Count_by_zip$count)
quantile(Count_by_zip$count)
fm<-Count_by_zip
fm$Range<-ifelse(fm$count > 0 & fm$count<= 3, "1-3",
ifelse(fm$count > 3 & fm$count<= 6, "3-6",
ifelse(fm$count > 6 & fm$count<=9, "6-9", "9-13")))
View(fm)
table(fm$Range)
data(zipcode)
library(zipcode)
data(zipcode)
Count_by_zip$Updated_zip_code<- clean.zipcodes(Count_by_zip$Updated_zip_code)
FM<- merge(Count_by_zip, zipcode, by.x='Updated_zip_code', by.y='zip')
View(FM)
fm<- merge(Count_by_zip, zipcode, by.x='Updated_zip_code', by.y='zip')
fm$Range<-ifelse(fm$count > 0 & fm$count<= 3, "1-3",
ifelse(fm$count > 3 & fm$count<= 6, "3-6",
ifelse(fm$count > 6 & fm$count<=9, "6-9", "9-13")))
map<-get_map(location='united states', zoom=5, maptype='roadmap')
ggmap(map)
ggmap(map) + geom_point(aes(x=longitude, y=latitude, colour = (Range)  ), data=fm, alpha=.4 )
